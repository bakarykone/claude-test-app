{"version":3,"sources":["../src/app.ts"],"sourcesContent":["import Anthropic from \"@anthropic-ai/sdk\";\nimport { Router } from \"express\";\n\nexport const app = Router();\n\n\napp.get(\"/\", (req, res) => {\n        res.send(\"Hello World!\");\n});\n      \n\napp.post(\"/message\", async (req, res) => {\n        const client = new Anthropic({\n            apiKey: process.env[\"ANTHROPIC_API_KEY\"],\n        });\n        try {\n          const message = await client.messages.create({\n            max_tokens: 1024,\n            messages: [{ role: \"user\", content: req.body.message }],\n            model: \"claude-3-5-sonnet-20240620\",\n          });\n      \n          res.json(message.content);\n        } catch (error) {\n          res.json([\n            {\n              type: \"text\",\n              content: \"Je suis désolé, je n'ai pas compris votre message.\",\n            },\n          ]);\n        }\n});\n"],"names":["Anthropic","Router","app","get","req","res","send","post","client","message","error","apiKey","process","env","messages","create","max_tokens","role","content","body","model","json","type"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,eAAe,oBAAoB;AAC1C,SAASC,MAAM,QAAQ,UAAU;AAEjC,OAAO,IAAMC,MAAMD,SAAS;AAG5BC,IAAIC,GAAG,CAAC,KAAK,SAACC,KAAKC;IACXA,IAAIC,IAAI,CAAC;AACjB;AAGAJ,IAAIK,IAAI,CAAC;eAAY,oBAAA,SAAOH,KAAKC;YACnBG,QAIEC,SAOCC;;;;oBAXHF,SAAS,IAAIR,UAAU;wBACzBW,QAAQC,QAAQC,GAAG,CAAC,oBAAoB;oBAC5C;;;;;;;;;oBAEkB;;wBAAML,OAAOM,QAAQ,CAACC,MAAM,CAAC;4BAC3CC,YAAY;4BACZF,QAAQ;gCAAG;oCAAEG,MAAM;oCAAQC,SAASd,IAAIe,IAAI,CAACV,OAAO;gCAAC;;4BACrDW,OAAO;wBACT;;;oBAJMX,UAAU;oBAMhBJ,IAAIgB,IAAI,CAACZ,QAAQS,OAAO;;;;;;oBACjBR;oBACPL,IAAIgB,IAAI;wBACN;4BACEC,MAAM;4BACNJ,SAAS;wBACX;;;;;;;;;;;;IAGZ;oBApB4Bd,KAAKC"}